enum DosageForm {
    TABLET
    CAPSULE
    SYRUP
    SUSPENSION
    DROPS
    CREAM
    OINTMENT
}

model Category {
    id          String     @id @default(uuid())
    slug        String     @unique
    name        String     @unique
    image       String?
    isFeatured  Boolean    @default(false)
    description String?
    isActive    Boolean    @default(true)
    createdAt   DateTime   @default(now())
    updatedAt   DateTime   @updatedAt
    medicines   Medicine[]

    @@map("categories")
}

model Medicine {
    id            String      @id @default(uuid())
    // Identity
    slug          String
    brandName     String
    genericName   String
    manufacturer  String
    // Medical info (STRUCTURED)
    strength      String // "500mg"
    dosageForm    DosageForm // TABLET | SYRUP | CAPSULE
    unit          String // "tablet", "ml"
    packSize      Int // 10 tablets, 100ml
    dosageInfo    String? // "1 tablet every 8 hours"
    // Pricing
    price         Decimal // price per pack
    piecePrice    Decimal? // price per tablet (optional)  
    stockQuantity Int
    expiryDate    DateTime
    isActive      Boolean     @default(true)
    createdAt     DateTime    @default(now())
    updatedAt     DateTime    @updatedAt
    // Display
    image         String
    description   String
    // relations
    categoryId    String
    category      Category    @relation(fields: [categoryId], references: [id], onDelete: Restrict)
    sellerId      String
    seller        User        @relation(fields: [sellerId], references: [id])
    orderItems    OrderItem[]
    reviews       Review[]

    @@unique([sellerId, slug])
    @@map("medicines")
}
