enum DosageForm {
    TABLET
    CAPSULE
    SYRUP
    SUSPENSION
    DROPS
    CREAM
    OINTMENT
}

model Category {
    id          String     @id @default(uuid())
    slug        String     @unique
    name        String     @unique
    image       String?
    isFeatured  Boolean    @default(false)
    description String?
    isActive    Boolean    @default(true)
    isDeleted   Boolean    @default(false)
    deletedAt   DateTime?
    createdAt   DateTime   @default(now())
    updatedAt   DateTime   @updatedAt
    medicines   Medicine[]

    @@map("categories")
}

model Medicine {
    id           String  @id @default(uuid())
    slug         String
    brandName    String
    genericName  String
    manufacturer String
    isFeatured   Boolean @default(false)

    // Medical info (STRUCTURED)
    strength   String
    dosageForm DosageForm
    unit       String
    packSize   Int
    dosageInfo String?

    // Pricing
    price      Float // price per pack
    piecePrice Float? // price per tablet (optional)

    // Inventory
    stockQuantity Int
    expiryDate    DateTime

    isActive  Boolean   @default(true)
    isDeleted Boolean   @default(false)
    deletedAt DateTime?
    createdAt DateTime  @default(now())
    updatedAt DateTime  @updatedAt

    // Display
    image       String
    description String

    // relations
    categoryId String
    category   Category    @relation(fields: [categoryId], references: [id], onDelete: Restrict)
    sellerId   String
    seller     User        @relation(fields: [sellerId], references: [id])
    orderItems OrderItem[]
    reviews    Review[]

    @@unique([sellerId, slug])
    @@map("medicines")
}
